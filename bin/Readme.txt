SoilPlus用小物ツール



=============================================================================================================================
☆ sp_remover.bat  ： 大量に出力される解析結果ファイルを簡単に整理    (2013/12/11 田辺)
※概要
  ・一般的なポスト処理に必要なもの以外の結果ファイルを削除
  ・エラーで正常に処理が終了していない場合は，errファイルを表示してファイルは削除しない．
  ・以下は後処理で使用する場合があるので，削除しない．
     ・posファイル： SoilPlusのGUIで使用． （.f??ファイルのデータを結合したもの）
     ・f21ファイル： 後述の動的解析出力．
     ・f81ファイル，f82ファイル： GUIのツールにある「リスト編集」プログラムで必要．

※使い方
  解析ファイル（拡張子不問）をbatにD&Dする．
  もしくは，いずれかのファイルに関連付けを行いそれを実行する．

※カスタマイズ等
  削除対象の拡張子はバッチファイルの先頭で変数に設定してある．
  ここを修正すれば削除対象の変更が可能．


=============================================================================================================================
☆ qplr-sf.exe  ： 動的解析結果からシェル要素の断面力を計算	(2013/12/11 田辺）

!注意! 最新版のSoilPlusには対応していません!!!（というか，不要のはず）
       動作確認は SoilPlus2011r1 build2 で行っています．


※概要
  ・動的解析による応力波形から，単位幅あたりの断面力を計算しCSVで出力する．
  ・断面力計算が可能な要素・成分について全てが計算される．
  ・座標系は要素座標系
  ・Z方向については必要性が薄いので現在未対応．

※使い方
1) 着目するシェル要素で表裏面の応力(断面力)出力設定を行う．（詳細は後述）
2) 動的解析を実施
3) 作成された ○○_#.f21 ファイルを qplr-sf.exe にドラッグアンドドロップする．
   このとき同じフォルダにdatファイルが必要 ← シェル要素の厚さが必要なため
   (.f21ファイルに関連付けを行っておけば，ダブルクリックでも実行可能)

以上により，断面力計算に必要なデータがそろっている要素全てについて，
断面力が算出され，○○_#-Fx.csvなどの名称で出力される．

準備(応力出力要求)：
断面力計算を行うためには，表裏面の応力度の出力指定が必要．
GUIでの設定では，出力設定にて応力度と「j端」の断面力について出力要求を行う必要がある．
以下に断面力と必要な出力要求の対応を示す．
なお，出力要求の括弧内部はdatファイルでの指定方法を表している．

    断面力   記号     必要な出力要求  (左が表面，右が裏面)
 X方向軸力   Fx       σx  (MKEL 1)  および   Fx-j (MKE2 7)
 X方向曲げ   Mx       同上
 X方向せん断 Sx       τzx (MKEL 6)  および   Mz-j (MKE2 12)
 Y方向軸力   Fy       σy  (MKEL 2)  および   Fy-j (MKE2 8)
 Y方向曲げ   My       同上
 Y方向せん断 Sy       τyz (MKEL 5)  および   Mz-j (MKE2 11)


=============================================================================================================================
☆ f21toCSV.exe  ： SoilPlus動解の履歴出力をCSVで出力する	(2013/12/27作成 2016/01/16更新 田辺）

※概要
  SoilPlusの出力データファイルの一つであるf21ファイル(履歴出力ファイル)の中身を種類別にCSVで出力する．
  f21のファイル名から拡張子を取り除き，そこにデータの種類名(ux[X変位]やsy[Y方向成分応力]など）と
.csvの拡張子が追加されたファイルが作成されます．


※使い方

1)とりあえず使ってみる場合
  f21toCSV.exeを解析したフォルダにコピーしてください．
あとは，○○.f21ファイルをこのexeにドラッグ＆ドロップするだけです．
複数のf21ファイルをD&Dすることも可能です．

2) 常用する場合
  まず，f21toCSV.exeを自分のPCの適当なフォルダにコピーします．（このフォルダごとでもOK)
  ○○.f21ファイルを右クリックし，「プログラムから開く」でf21toCSV.exeを選択してもOKです．
この時，「既定のプログラムとして設定」にチェックを入れておくと，
今後は○○.f21ファイルをダブルクリックするだけでCSVファイルを作成でき，便利です．
なお，上記qplr-sf.exeも登録した場合，「プログラムから開く」にサブメニューが追加され，
どちらで開くかを選択できる様になります．

3) 若干高度な使い方
コマンドラインからであれば，
   f21toCSV.exe  *.f21
とすれば，カレントフォルダにある全てのf21ファイルを一度に対象にできます．
また，下記のオプションを与えることで出力内容を絞ることが可能です．
-a   もしくは  --acc        : 加速度波形のみを出力
-v   もしくは  --vel        : 速度波形のみを出力
-u   もしくは  --dis        : 変位波形のみを出力
-N   もしくは  --node       : 節点の波形を出力（変位・速度・加速度波形を出力，上の3つを合わせたものに相当）
-s   もしくは  --stress     : 要素の応力波形を出力   (バネの場合は軸力等になる)
-e   もしくは  --strain     : 要素のひずみ波形を出力（バネの場合は変位等になる）
-f   もしくは  --force      : 要素の断面力を出力
-E   もしくは  --element    : 要素の波形を出力 （すぐ上の3つを同時に指定したのと同じ）
-i N もしくは  --interval=N : Nデータおきに出力（データの間引きを行いながら出力する）
使えるオプションについては，変更されている可能性があります．
現在有効なオプションは
   f21toCSV.exe  --help
とすると表示されるヘルプで確認できます．
ただし，ヘルプは英語なのでご注意ください．


=============================================================================================================================
☆ f22toCSV.exe  ： 応力ひずみ曲線の出力結果をCSVに変換して出力	(2016/1/16 田辺）

※概要
  SoilPlusの出力データファイルの一つであるf22ファイルをCSV形式に変換します．
  f22ファイルは，応力ひずみ， M-θ， P-δ などが含まれます．

※使い方
  f21toCSV.exeと同じなので，上記を参照してください．
  ただし，オプションはありません．

=============================================================================================================================
☆ f57_dumper.exe  ： 要素の静的解析結果ファイルf57をCSVに出力	(2016/01/16 田辺）

※概要
  静的解析の場合の結果をCSVに出力する為のツールです．
  元ファイル名の最後に.csvを付けたファイルに書き出されます．
  とりあえず使うことはできますが，
  f57の中身を単に展開しているだけなので，内容は整理されていません．
  エクセル等で加工して使ってください．

※使い方
  f21toCSV.exeと同様に，f57ファイルをD&Dすれば，CSVファイルが作成されます．
  なお，オプションはありません．

=============================================================================================================================
○ 詳細
田辺作成のツールのソースコード等一式は https://github.com/betchx/SoilPlus_rb で取得可能です．
なお，exe作成には，Rubyおよびexerbが必要です．

以上




## 説明テンプレート ##
=============================================================================================================================
☆ <プログラム名>  ： <プログラムの簡易説明>	(<更新日> <作者>）

※概要

※使い方

